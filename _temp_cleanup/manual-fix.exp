#!/usr/bin/expect -f

set timeout 30

spawn ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@31.97.28.231

expect "*assword*"
send "62uDLW4RJ9ae28EPVfp5yzT##\r"
expect "*#*"

send "cd /root/eon\r"
expect "*#*"

puts "🔧 VOU EDITAR MANUALMENTE..."
send "nano ./client/src/pages/OperationsPage.tsx +102\r"
expect "*102*"

puts ""
puts "📝 INSTRUÇÃO:"
puts "Linha 102 atual: const botsData = Array.isArray(response.data.bots || response.data) ? response.data : [];"
puts ""
puts "ALTERE PARA:"
puts "const botsData = Array.isArray(response.data.bots || response.data) ? (response.data.bots || response.data) : [];"
puts ""
puts "Ctrl+X para salvar, Y para confirmar, Enter para sair"

interact